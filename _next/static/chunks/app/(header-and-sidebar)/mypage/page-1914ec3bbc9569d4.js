(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{130:(e,s,t)=>{"use strict";t.d(s,{Ro:()=>n,ZM:()=>l,ec:()=>i,fj:()=>r,hG:()=>d,iD:()=>c,ri:()=>o});var a=t(3490);async function r(e){await a.A.post("/api/user/join",e)}async function l(e){await a.A.post("/api/user/emailSend",e)}async function n(e){await a.A.post("/api/user/emailCheck",e)}async function c(e){let s=await a.A.post("/login",e),t=s.data.accessToken,r=s.data.refreshToken;return localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",r),{accessToken:t,refreshToken:r}}async function o(){await a.A.post("/api/user/logout")}async function i(e){await a.A.patch("/api/user/change-password",e)}async function d(e){await a.A.delete("/api/user/delete-user",{data:e})}},3490:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let a=t(5125).A.create({baseURL:"https://11job.site",headers:{"Content-Type":"application/json"},timeout:1e4});a.interceptors.request.use(e=>{let s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e));let r=a},8001:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),r=t(2115),l=t(508),n=t(4926),c=t(368),o=t(5867),i=t(2056),d=t(5239),x=t(130);let u={name:"김수현",email:"kim.suhyeon@jobtracker.com",profileUrl:"https://placehold.co/100x100/3b82f6/ffffff?text=KS"};function m(){let[e,s]=(0,r.useState)(""),[t,m]=(0,r.useState)(""),[f,h]=(0,r.useState)(""),[p,b]=(0,r.useState)(!1),[g,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(!1),[w,v]=(0,r.useState)(!1),k=(0,r.useRef)(null),S=async()=>{if(confirm("정말 로그아웃 하시겠습니까?"))try{v(!0),await (0,x.ri)(),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),alert("로그아웃되었습니다."),window.location.href="/"}catch(e){console.error("❌ 로그아웃 실패:",e),alert("로그아웃에 실패했습니다. 잠시 후 다시 시도해 주세요.")}finally{v(!1)}},A=async()=>{if(!e||!t||!f)return void alert("현재 비밀번호와 새 비밀번호를 모두 입력해주세요.");if(t!==f)return void alert("새 비밀번호와 비밀번호 확인이 일치하지 않습니다.");if(t.length<8)return void alert("새 비밀번호는 최소 8자 이상이어야 합니다.");try{b(!0),await (0,x.ec)({oldPassword:e,newPassword:t}),alert("비밀번호가 성공적으로 변경되었습니다."),s(""),m(""),h("")}catch(e){console.error("❌ 비밀번호 변경 실패:",e),alert("비밀번호 변경에 실패했습니다. 현재 비밀번호를 다시 확인해 주세요.")}finally{b(!1)}},T=async()=>{if(!g)return void alert("회원 탈퇴를 위해 비밀번호를 입력해주세요.");if(confirm("정말로 회원 탈퇴를 진행하시겠습니까?\n\n계정과 관련된 데이터가 삭제될 수 있습니다."))try{N(!0),await (0,x.hG)({password:g}),alert("회원 탈퇴가 완료되었습니다. 이용해 주셔서 감사합니다."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/"}catch(e){console.error("❌ 회원 탈퇴 실패:",e),alert("회원 탈퇴에 실패했습니다. 비밀번호를 다시 확인해 주세요.")}finally{N(!1)}};return(0,a.jsx)("div",{className:"flex-1 min-h-screen bg-gray-50 font-sans",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto py-10 px-4 sm:px-6 lg:px-0 space-y-8",children:[(0,a.jsxs)("header",{className:"border-b pb-4",children:[(0,a.jsxs)("h1",{className:"text-3xl font-extrabold text-gray-900 flex items-center",children:[(0,a.jsx)(l.A,{className:"w-7 h-7 mr-3 text-blue-500"}),"마이페이지"]}),(0,a.jsx)("p",{className:"text-base text-gray-500 mt-1",children:"회원 정보 확인 및 비밀번호 변경, 회원 탈퇴를 관리할 수 있습니다."})]}),(0,a.jsxs)("section",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6 bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,a.jsx)(d.default,{src:u.profileUrl,alt:"Profile",width:96,height:96,className:"w-24 h-24 rounded-full object-cover ring-4 ring-blue-200",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="https://placehold.co/100x100/3b82f6/ffffff?text=User"}}),(0,a.jsxs)("div",{className:"space-y-1 text-center sm:text-left",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:u.name}),(0,a.jsx)("p",{className:"text-gray-600 text-lg",children:u.email})]})]}),(0,a.jsxs)("section",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"계정 관리"}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100",children:(0,a.jsxs)("button",{className:"w-full text-left flex items-center justify-between p-4 text-red-600 hover:bg-red-50 transition duration-150 rounded-b-xl",onClick:S,disabled:w,children:[(0,a.jsxs)("span",{className:"flex items-center font-semibold",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 mr-3 text-red-500"}),w?"로그아웃 중...":"로그아웃"]}),(0,a.jsx)(c.A,{className:"w-4 h-4 transform rotate-180 text-red-400"})]})})]}),(0,a.jsxs)("section",{ref:k,className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"비밀번호 변경"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"현재 비밀번호를 입력한 뒤, 새 비밀번호를 설정해주세요."}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"현재 비밀번호"}),(0,a.jsx)("input",{type:"password",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",value:e,onChange:e=>s(e.target.value),placeholder:"현재 비밀번호를 입력하세요"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"새 비밀번호"}),(0,a.jsx)("input",{type:"password",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",value:t,onChange:e=>m(e.target.value),placeholder:"새 비밀번호를 입력하세요 (최소 8자)"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"새 비밀번호 확인"}),(0,a.jsx)("input",{type:"password",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",value:f,onChange:e=>h(e.target.value),placeholder:"다시 한 번 입력해주세요"})]}),(0,a.jsx)("div",{className:"flex justify-end pt-2",children:(0,a.jsx)("button",{type:"button",onClick:A,disabled:p,className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-60",children:p?"변경 중...":"비밀번호 변경"})})]})]}),(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-red-500"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-red-700",children:"회원 탈퇴"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"회원 탈퇴를 진행하면 계정과 관련된 데이터가 삭제되거나 복구가 어려울 수 있습니다. 신중하게 진행해주세요."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"비밀번호 확인"}),(0,a.jsx)("input",{type:"password",className:"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400",value:g,onChange:e=>y(e.target.value),placeholder:"현재 비밀번호를 입력하세요"}),(0,a.jsx)("div",{className:"flex justify-end pt-2",children:(0,a.jsx)("button",{type:"button",onClick:T,disabled:j,className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-red-600 hover:bg-red-700 disabled:opacity-60",children:j?"탈퇴 처리 중...":"회원 탈퇴"})})]})]})]})})}},8448:(e,s,t)=>{Promise.resolve().then(t.bind(t,8001))}},e=>{e.O(0,[211,247,441,255,358],()=>e(e.s=8448)),_N_E=e.O()}]);