(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1873:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2272:(e,t,s)=>{Promise.resolve().then(s.bind(s,7245))},3490:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let r=s(5125).A.create({baseURL:"https://11job.site",headers:{"Content-Type":"application/json"},timeout:1e4});r.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let a=r},6651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7245:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(5155),a=s(2115),l=s(9633),n=s(1873),o=s(6651),i=s(3490);async function c(e){let t=e.request,s=e.pageable,r={};return t.workLocation&&(r.workLocation=t.workLocation),t.careerConditionName&&(r.careerConditionName=t.careerConditionName),t.searchKeyword&&(r.searchKeyword=t.searchKeyword),r.searchType="ALL",r.page=s.page,r.size=s.size,s.sort&&(r.sort=s.sort),(await i.A.get("/api/jobs",{params:r})).data}async function d(e){var t,s;return c({request:{searchKeyword:(null==e?void 0:e.keyword)||void 0,workLocation:(null==e?void 0:e.workLocation)||void 0,careerConditionName:(null==e?void 0:e.careerConditionName)||void 0},pageable:{page:null!=(t=null==e?void 0:e.page)?t:0,size:null!=(s=null==e?void 0:e.size)?s:10,sort:["registrationDate,desc"]}})}var x=s(63);let u=e=>{let{item:t}=e,s=(0,x.useRouter)(),a=t.expirationDate.replace(/-/g,"."),o=new Date(t.expirationDate)<new Date;return(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 bg-white border rounded-xl shadow-md transition duration-200 ease-in-out ".concat(o?"border-gray-200 opacity-60":"border-gray-100 hover:shadow-lg cursor-pointer"),children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-1 w-2/3",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,r.jsx)("span",{className:"flex-shrink-0 text-sm font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full border border-blue-100 mt-1",children:t.companyName}),(0,r.jsx)("h3",{className:"text-xl font-extrabold text-gray-900 transition",children:(0,r.jsx)("a",{href:t.detailUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-700 transition ".concat(o?"cursor-not-allowed":"cursor-pointer"),onClick:e=>{o&&e.preventDefault()},children:t.title})})]}),(0,r.jsx)("p",{className:"text-gray-600 text-base font-medium mt-1 pl-1",children:t.jobCodeName}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500 pt-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(l.A,{className:"w-4 h-4 text-gray-400"}),(0,r.jsxs)("span",{children:[t.careerName," | ",t.academicName]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(n.A,{className:"w-4 h-4 text-gray-400"}),(0,r.jsx)("span",{children:t.workAddress.split(" ")[0]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end space-y-3 w-1/3 min-w-[150px]",children:[(0,r.jsx)("button",{onClick:()=>{o||(sessionStorage.setItem("selectedJob",JSON.stringify({jobId:t.jobId,companyName:t.companyName,title:t.title,expirationDate:t.expirationDate})),s.push("/registration"))},className:"px-5 py-2 text-sm font-bold rounded-full shadow-lg shadow-orange-200 transition duration-150 transform hover:scale-105 active:scale-100 ".concat(o?"bg-gray-400 text-gray-100 cursor-not-allowed shadow-none":"bg-orange-500 text-white hover:bg-orange-600"),disabled:o,children:o?"마감됨":"세부 일정 등록"}),(0,r.jsxs)("p",{className:"text-base font-extrabold px-3 py-1 rounded-lg border ".concat(o?"text-gray-600 bg-gray-100 border-gray-200":"text-red-500 bg-red-50 border-red-100"),children:["마감: ",a]})]})]})},m=["신입","경력","무관"],h=["서울","경기","부산","대구","인천","광주","대전","울산"];function p(){let e=(0,x.useRouter)(),t=(0,x.useSearchParams)(),[s,i]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[b,g]=(0,a.useState)(null),[y,f]=(0,a.useState)(null),[j,N]=(0,a.useState)([]),[w,v]=(0,a.useState)(!0),[k,S]=(0,a.useState)(null),[C,A]=(0,a.useState)(0),[P,L]=(0,a.useState)(0),[R,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{localStorage.getItem("accessToken")||(window.location.href="/auth")},[]),(0,a.useEffect)(()=>{if(R)return;let e=t.get("keyword")||"",s=t.get("career"),r=t.get("location"),a=t.get("page"),l=a?parseInt(a,10):0;e&&(i(e),p(e)),s&&g(s),r&&f(r),!Number.isNaN(l)&&l>=0&&A(l),D(!0)},[t,R]);let E=()=>{let t=s.trim();p(t),A(0);let r=new URLSearchParams;t&&r.set("keyword",t),b&&r.set("career",b),y&&r.set("location",y),r.set("page","0"),e.push("/list?".concat(r.toString()))},I=t=>{if(t<0||t>=P)return;A(t);let s=new URLSearchParams;c&&s.set("keyword",c),b&&s.set("career",b),y&&s.set("location",y),s.set("page",String(t)),e.push("/list?".concat(s.toString()))},_=Math.floor(C/5),z=5*_,U=Math.min(z+5,P);return(0,a.useEffect)(()=>{let e=async()=>{v(!0),S(null);try{let e={page:C};c&&(e.keyword=c),b&&(e.careerConditionName=b),y&&(e.workLocation=y);let t=await d(e);N(t.content),L(t.totalPages)}catch(e){console.error(e),S("채용 공고 목록을 불러오는 데 실패했습니다.")}finally{v(!1)}};R&&e()},[c,b,y,C,R]),(0,r.jsx)("div",{className:"flex-1 p-4 sm:p-8 min-h-screen ",children:(0,r.jsxs)("div",{className:"bg-white p-4 sm:p-8 rounded-2xl shadow-xl h-full space-y-8 max-w-4xl mx-auto",children:[(0,r.jsxs)("header",{className:"border-b border-gray-100 pb-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900",children:"채용 공고 탐색"}),(0,r.jsx)("p",{className:"text-base text-gray-500 mt-1",children:"최신 채용 공고를 검색하고, 나만의 취업 일정으로 등록하세요."})]}),(0,r.jsxs)("div",{className:"flex items-center border-2 border-blue-500 rounded-xl p-3 bg-white shadow-md focus-within:ring-4 focus-within:ring-blue-100 transition duration-200",children:[(0,r.jsx)(o.A,{className:"w-5 h-5 text-blue-500 mr-3 flex-shrink-0"}),(0,r.jsx)("input",{type:"text",placeholder:"기업명, 직무 등을 입력하여 검색하세요.",className:"flex-1 outline-none text-lg text-gray-700 placeholder-gray-400",value:s,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&E()}}),(0,r.jsx)("button",{onClick:E,className:"px-4 py-1.5 bg-blue-500 text-white text-sm font-bold rounded-lg hover:bg-blue-600 transition duration-150 ml-2 flex-shrink-0",children:"검색"})]}),(0,r.jsxs)("section",{className:"mt-4 p-4 sm:p-5 bg-[#f0f4fc] border border-blue-100 rounded-2xl shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-m font-semibold text-gray-800",children:"[조건으로 검색]"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,r.jsxs)("span",{className:"hidden sm:inline px-2 py-1 rounded-full bg-white border border-gray-200 text-gray-500",children:["현재 조건:"," ",(0,r.jsx)("strong",{className:"ml-1 text-gray-800",children:c?'검색어 "'.concat(c,'"'):b?"경력 ".concat(b):y?"지역 ".concat(y):"전체"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{i(""),p(""),g(null),f(null),A(0),e.push("/list")},className:"px-2.5 py-1 rounded-full border border-gray-300 bg-white text-[11px] font-medium text-gray-600 hover:bg-gray-100",children:"조건 초기화"})]})]}),(0,r.jsxs)("div",{className:"mt-2 grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(l.A,{className:"w-4 h-4 text-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"경력 선택"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(t=>{let s=b===t;return(0,r.jsx)("button",{type:"button",onClick:()=>(t=>{let s=b===t?null:t;g(s),A(0);let r=new URLSearchParams;c&&r.set("keyword",c),s&&r.set("career",s),y&&r.set("location",y),r.set("page","0"),e.push("/list?".concat(r.toString()))})(t),className:"px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium border transition-all duration-150 flex items-center gap-1 ".concat(s?"bg-blue-500 text-white border-blue-600 shadow-sm":"bg-white text-gray-700 border-gray-200 hover:border-blue-300 hover:bg-blue-50"),children:t},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(n.A,{className:"w-4 h-4 text-rose-500"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"지역 선택"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:(0,r.jsx)(n.A,{className:"w-4 h-4 text-rose-400"})}),(0,r.jsxs)("select",{value:y||"",onChange:t=>(t=>{let s=t||null;f(s),A(0);let r=new URLSearchParams;c&&r.set("keyword",c),b&&r.set("career",b),s&&r.set("location",s),r.set("page","0"),e.push("/list?".concat(r.toString()))})(t.target.value),className:"w-full pl-9 pr-9 py-2 text-sm border border-gray-200 rounded-xl bg-white shadow-xs focus:outline-none focus:ring-2 focus:ring-rose-200 focus:border-rose-400 appearance-none",children:[(0,r.jsx)("option",{value:"",children:"전체 지역"}),h.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400 text-xs",children:"▼"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-gray-700",children:["총 ",w?"...":j.length,"건의 공고"]}),w&&(0,r.jsx)("div",{className:"text-center p-12 text-blue-500 font-medium",children:"채용 공고를 불러오는 중..."}),k&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-300 text-red-700 p-4 rounded-lg text-center",children:k}),!w&&!k&&0===j.length&&(0,r.jsxs)("div",{className:"text-center p-12 text-gray-500 border border-gray-200 rounded-xl bg-gray-50",children:[(0,r.jsx)("p",{className:"text-xl font-bold mb-2",children:"검색 결과가 없습니다."}),(0,r.jsx)("p",{children:"다른 키워드 또는 조건으로 다시 검색해보세요."})]}),!w&&!k&&j.length>0&&j.map(e=>(0,r.jsx)(u,{item:e},e.jobId))]}),P>1&&(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-10",children:[(0,r.jsx)("button",{onClick:()=>I(z-1),disabled:0===_,className:"px-3 py-1 border rounded disabled:opacity-40",children:"‹ 이전"}),Array.from({length:U-z},(e,t)=>z+t).map(e=>(0,r.jsx)("button",{onClick:()=>I(e),className:"px-3 py-1 rounded border ".concat(C===e?"bg-blue-500 text-white border-blue-600":"bg-white hover:bg-gray-100"),children:e+1},e)),(0,r.jsx)("button",{onClick:()=>I(U),disabled:U>=P,className:"px-3 py-1 border rounded disabled:opacity-40",children:"다음 ›"})]})]})})}function b(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"flex-1 p-8 min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"text-center text-blue-500 font-medium",children:"로딩 중..."})}),children:(0,r.jsx)(p,{})})}},9633:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])}},e=>{e.O(0,[211,441,255,358],()=>e(e.s=2272)),_N_E=e.O()}]);