(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},508:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},859:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},1205:(e,t,a)=>{Promise.resolve().then(a.bind(a,2249))},1360:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1873:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2249:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var s=a(5155),i=a(2115),r=a(5229),l=a(859),n=a(6191),o=a(508),d=a(1847);let c=(0,d.A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var m=a(3664),u=a(9141),x=a(1873);let h=(0,d.A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);var g=a(9633),p=a(6154),y=a(7937);let b=(0,d.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var f=a(4571),v=a(6485);let j=(0,d.A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),N=(0,d.A)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]);var k=a(1360);let w=(0,d.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var A=a(6826),D=a(2382),C=a(2768);let M=e=>{let[t,a,s]=e.split("-");return{year:t,month:a,day:s}},z=e=>{let{placeholder:t,value:a,maxLength:i,onChange:r,className:l=""}=e;return(0,s.jsx)("input",{type:"text",placeholder:t,value:a,onChange:e=>r(e.target.value.replace(/[^0-9]/g,"").slice(0,i)),className:"w-full p-2 border border-gray-300 rounded-md text-center focus:ring-indigo-500 focus:border-indigo-500 text-sm transition ".concat(l),maxLength:i})},S=e=>{let{date:t,onChange:a,label:i}=e;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)("label",{className:"text-xs font-semibold text-gray-500 flex items-center",children:[(0,s.jsx)(v.A,{size:12,className:"mr-1 text-indigo-400"}),i]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(z,{placeholder:"YYYY",value:t.year,maxLength:4,onChange:e=>a({year:e})}),(0,s.jsx)("span",{className:"text-gray-400",children:"/"}),(0,s.jsx)(z,{placeholder:"MM",value:t.month,maxLength:2,onChange:e=>a({month:e})}),(0,s.jsx)("span",{className:"text-gray-400",children:"/"}),(0,s.jsx)(z,{placeholder:"DD",value:t.day,maxLength:2,onChange:e=>a({day:e})})]})]})},U=e=>{let{label:t,placeholder:a,value:i,icon:r,type:l="text",onChange:n}=e;return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 block mb-1 flex items-center",children:[r,(0,s.jsx)("span",{className:"ml-1",children:t})]}),(0,s.jsx)("input",{type:l,placeholder:a,value:i,onChange:e=>n(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition shadow-sm"})]})},q=e=>{let{item:t,onUpdate:a,onDelete:r,onSave:n,isSaving:o}=e,d=e=>s=>{let i="start"===e?"startDate":"endDate";a(t.id,{[i]:{...t[i],...s}})},c=e=>4===e.year.length&&e.month.length>0&&e.day.length>0,m=t.title.trim().length>0&&t.description.trim().length>0&&c(t.startDate)&&c(t.endDate),u=(0,i.useMemo)(()=>t.imageFile?URL.createObjectURL(t.imageFile):t.imageUrl||null,[t.imageFile,t.imageUrl]);return(0,i.useEffect)(()=>()=>{t.imageFile&&u&&URL.revokeObjectURL(u)},[u,t.imageFile]),(0,s.jsxs)("div",{className:"relative bg-white p-6 md:p-8 rounded-2xl shadow-xl hover:shadow-2xl transition duration-300 mb-6 border border-indigo-100",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-6 space-y-4 md:space-y-0 mb-6 items-start",children:[(0,s.jsxs)("div",{className:"relative w-24 h-24 bg-indigo-50 rounded-xl flex-shrink-0 flex items-center justify-center text-indigo-600 text-xs font-bold shadow-inner overflow-hidden border-2 border-dashed border-indigo-200 group",children:[u?(0,s.jsx)("img",{src:u,alt:"프로젝트 이미지 미리보기",className:"w-full h-full object-cover"}):(0,s.jsx)(j,{size:30,className:"text-indigo-400"}),(0,s.jsx)("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{var s,i;return a(t.id,{imageFile:null!=(i=null==(s=e.target.files)?void 0:s[0])?i:null})},"aria-label":"프로젝트 이미지 업로드"})]}),(0,s.jsx)("div",{className:"flex-1 w-full",children:(0,s.jsx)(U,{label:"프로젝트 제목",placeholder:"제목을 입력하세요 (예: 커뮤니티 웹 서비스 개발)",value:t.title,icon:(0,s.jsx)(N,{size:16,className:"text-indigo-600"}),onChange:e=>a(t.id,{title:e})})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[(0,s.jsx)(S,{label:"시작 일자",date:t.startDate,onChange:d("start")}),(0,s.jsx)(S,{label:"종료 일자",date:t.endDate,onChange:d("end")})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 block mb-1 flex items-center",children:[(0,s.jsx)(N,{size:16,className:"text-indigo-600"}),(0,s.jsx)("span",{className:"ml-1",children:"상세 설명"})]}),(0,s.jsx)("textarea",{value:t.description,onChange:e=>a(t.id,{description:e.target.value}),rows:5,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 resize-y transition shadow-sm"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 block mb-1 flex items-center",children:[(0,s.jsx)(l.A,{size:16,className:"text-indigo-600"}),(0,s.jsx)("span",{className:"ml-1",children:"프로젝트 링크 (선택 사항)"})]}),(0,s.jsx)("input",{type:"url",value:t.link,onChange:e=>a(t.id,{link:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition shadow-sm"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 border-t pt-4",children:[(0,s.jsxs)("button",{onClick:()=>r(t.id),className:"flex items-center space-x-1 px-4 py-2 text-sm font-medium text-red-600 bg-red-100 rounded-xl hover:bg-red-200 transition duration-150 shadow-md transform hover:scale-[1.02]",disabled:o,children:[(0,s.jsx)(k.A,{size:16}),(0,s.jsx)("span",{children:"삭제"})]}),(0,s.jsxs)("button",{onClick:()=>n(t),disabled:!m||o,className:"flex items-center space-x-1 px-4 py-2 text-sm font-bold rounded-xl transition duration-150 shadow-lg transform hover:scale-[1.02] ".concat(m&&!o?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[o?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,s.jsx)(w,{size:16}),(0,s.jsx)("span",{children:t.isNew?"저장하기":"업데이트"})]})]})]})},R=e=>{let{onClose:t,onProjectsSaved:a,isOpen:l}=e,[o,d]=(0,i.useState)([]),[c,m]=(0,i.useState)(!1),[u,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{l&&(async()=>{try{let e=(await (0,D.wD)()).map(e=>{var t,a,s,i;return{id:e.id.toString(),title:null!=(t=e.title)?t:"",startDate:M(e.startDate),endDate:M(e.endDate),description:null!=(a=e.description)?a:"",link:null!=(s=e.linkUrl)?s:"",imageFile:null,imageUrl:null!=(i=e.imageUrl)?i:null,isNew:!1}});d(e),a(e.length)}catch(e){console.error("프로젝트 목록을 가져오는 중 오류 발생:",e),d([])}})()},[l,a]);let h=(0,i.useCallback)(()=>{d(e=>[...e,{id:crypto.randomUUID(),title:"",startDate:{year:"2024",month:"01",day:"01"},endDate:{year:"2024",month:"12",day:"31"},description:"",link:"",imageFile:null,imageUrl:null,isNew:!0}])},[]),g=(0,i.useCallback)((e,t)=>{d(a=>a.map(a=>a.id===e?{...a,...t}:a))},[]),p=(0,i.useCallback)(async e=>{let t=Number(e);try{let a=o.find(t=>t.id===e);(null==a?void 0:a.isNew)||await (0,D.xx)(t),x("프로젝트가 삭제되었습니다.")}catch(e){console.error("삭제 중 오류:",e),x("프로젝트 삭제 중 오류가 발생했습니다.")}d(t=>{let s=t.filter(t=>t.id!==e);return a(s.filter(e=>!e.isNew).length),s})},[o,a]),y=(0,i.useCallback)(async e=>{m(!0);try{let t="".concat(e.startDate.year,"-").concat(e.startDate.month.padStart(2,"0"),"-").concat(e.startDate.day.padStart(2,"0")),a="".concat(e.endDate.year,"-").concat(e.endDate.month.padStart(2,"0"),"-").concat(e.endDate.day.padStart(2,"0")),s={title:e.title,description:e.description,startDate:t,endDate:a,linkUrl:e.link},i=new FormData;i.append("dto",new Blob([JSON.stringify(s)],{type:"application/json"})),e.imageFile&&i.append("image",e.imageFile),e.isNew?(await (0,D.gA)(i),x("프로젝트가 저장되었습니다.")):(await (0,D.vr)(Number(e.id),i),x("프로젝트가 수정되었습니다.")),d(t=>t.map(t=>t.id===e.id?{...e,isNew:!1}:t))}catch(e){console.error(e),x("프로젝트 저장 중 오류가 발생했습니다.")}finally{m(!1)}},[]);return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center border-b pb-4 mb-6 sticky top-0 bg-slate-50 z-10",children:[(0,s.jsxs)("h2",{className:"text-3xl font-extrabold text-gray-900 flex items-center",children:[(0,s.jsx)(A.A,{size:30,className:"mr-2 text-indigo-600"}),"프로젝트 상세 등록"]}),(0,s.jsx)("button",{onClick:t,className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 hover:text-gray-800 transition",disabled:c,children:(0,s.jsx)(r.A,{size:24})})]}),(0,s.jsx)("div",{className:"space-y-6",children:o.map(e=>(0,s.jsx)(q,{item:e,onUpdate:g,onDelete:p,onSave:y,isSaving:c},e.id))}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)("button",{onClick:h,className:"flex items-center justify-center space-x-2 text-indigo-600 font-bold border-2 border-dashed border-indigo-300 bg-indigo-50 hover:bg-indigo-100 transition duration-150 rounded-xl w-full p-4 text-lg shadow-inner transform hover:scale-[1.005]",disabled:c,children:[(0,s.jsx)(n.A,{size:24}),(0,s.jsx)("span",{children:"새 프로젝트 추가"})]})}),u&&(0,s.jsx)(C.A,{message:u,onClose:()=>x(null)})]})},F=e=>{let{isOpen:t,onClose:a,children:i}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-[#70707080] flex items-center justify-center backdrop-blur-sm p-4",onClick:a,children:(0,s.jsx)("div",{className:"bg-slate-50 rounded-2xl shadow-2xl w-full max-w-5xl h-[90vh] overflow-y-auto transform transition-all duration-300",onClick:e=>e.stopPropagation(),children:i})}):null};function L(e){let{isOpen:t,onClose:a,onProjectsSaved:i}=e;return(0,s.jsx)(F,{isOpen:t,onClose:a,children:(0,s.jsx)(R,{onClose:a,onProjectsSaved:i,isOpen:t})})}let H=(e,t)=>{if("edu"===t||"career"===t||"activity"===t)return{id:e,institution:"",entryDate:"2024-01",exitDate:"2024-12"};if("intro"===t)return{id:e,title:"",link:""};if("cert"===t)return{id:e,title:"",acquisitionDate:"2024-01-01"};throw Error("Invalid DetailType: ".concat(t))},I=e=>void 0!==e.entryDate,P=e=>void 0!==e.link,O=e=>void 0!==e.acquisitionDate,E=e=>{let{id:t,value:a,onChange:i}=e;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:t,className:"text-sm font-medium text-gray-700 sr-only",children:"연월"}),(0,s.jsx)("input",{id:t,type:"month",value:a,onChange:e=>i(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-full transition"})]})},V=e=>{let{item:t,type:a,onChange:i,onRemove:n}=e,o=(e,a)=>{i(t.id,e,a)},d=I(t),c=O(t),m=P(t);return(0,s.jsxs)("div",{className:"p-5 border border-gray-200 rounded-xl mb-4 bg-white transition duration-200 shadow-md hover:shadow-xl hover:border-indigo-300 relative group",children:[(0,s.jsx)("button",{type:"button",onClick:()=>n(t.id),className:"absolute top-3 right-3 p-1 text-gray-400 bg-gray-50 rounded-full hover:text-red-600 hover:bg-red-100 transition duration-150 opacity-0 group-hover:opacity-100","aria-label":"항목 삭제",children:(0,s.jsx)(r.A,{size:18})}),(0,s.jsxs)("div",{className:"mb-3 mt-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:m||c?"제목":"기관명/회사명"}),(0,s.jsx)("input",{type:"text",value:t.institution||t.title||"",onChange:e=>{o(m||c?"title":"institution",e.target.value)},placeholder:m||c?"표시할 제목 입력":"기관명 입력",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),(0,s.jsxs)("div",{className:"grid ".concat(d?"grid-cols-2 gap-3":"grid-cols-1"," mt-3"),children:[d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-span-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"시작 연월"}),(0,s.jsx)(E,{id:"".concat(a,"-").concat(t.id,"-start"),label:"시작 연월",value:t.entryDate,onChange:e=>o("entryDate",e)})]}),(0,s.jsxs)("div",{className:"col-span-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"종료 연월"}),(0,s.jsx)(E,{id:"".concat(a,"-").concat(t.id,"-end"),label:"종료 연월",value:t.exitDate,onChange:e=>o("exitDate",e)})]})]}),c&&(0,s.jsxs)("div",{className:"col-span-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"취득 연월일"}),(0,s.jsx)("input",{type:"date",value:t.acquisitionDate,onChange:e=>o("acquisitionDate",e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]}),m&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 block mb-1 flex items-center",children:[(0,s.jsx)(l.A,{size:14,className:"text-indigo-500 mr-1"}),"연결 링크"]}),(0,s.jsx)("input",{type:"url",value:t.link,onChange:e=>o("link",e.target.value),placeholder:"연결 링크 입력 (GitHub, 노션, 블로그 등)",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]})},T=e=>{let{title:t,list:a,handlers:i,type:r,icon:l,footerSlot:o}=e;return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl mb-8 border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center border-b pb-4 mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[l,(0,s.jsx)("span",{className:"ml-2",children:t})]}),(0,s.jsxs)("button",{type:"button",onClick:i.onAdd,className:"flex items-center text-sm font-semibold text-indigo-600 px-3 py-1 border border-indigo-200 rounded-full bg-indigo-50 hover:bg-indigo-100 transition duration-150 shadow-sm",children:[(0,s.jsx)(n.A,{size:16,className:"mr-1"}),"항목 추가"]})]}),a.map(e=>(0,s.jsx)(V,{item:e,type:r,onChange:i.onChange,onRemove:i.onRemove},e.id)),0===a.length&&(0,s.jsx)("div",{className:"text-center text-gray-500 py-4 bg-gray-50 rounded-lg border border-dashed border-gray-200",children:"등록된 항목이 없습니다. '항목 추가‘ 버튼을 눌러주세요."}),o&&(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:o})]})},_=e=>{let{icon:t,placeholder:a,value:i,onChange:r,type:l="text"}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t}),(0,s.jsx)("input",{type:l,value:i,onChange:e=>r(e.target.value),placeholder:a,className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition shadow-sm"})]})};function Y(){let[e,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1);(0,i.useEffect)(()=>{localStorage.getItem("accessToken")||(window.location.href="/auth")},[]);let[l,d]=(0,i.useState)({name:"",email:"",phone:"",address:"",profileImage:null}),[v,j]=(0,i.useState)(null),[N,k]=(0,i.useState)([]),[w,A]=(0,i.useState)([]),[D,M]=(0,i.useState)([]),[z,S]=(0,i.useState)([]),[U,q]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,f.h)();d({name:e.user.name,email:e.user.email,phone:e.phone,address:e.address,profileImage:e.profileImageUrl}),k(e.educations.map((e,t)=>({id:t+1,institution:e.institutionName||"",entryDate:e.startDate||"",exitDate:e.endDate||""}))),A(e.experiences.map((e,t)=>({id:t+1,institution:e.institutionName||"",entryDate:e.startDate||"",exitDate:e.endDate||""}))),M(e.activities.map((e,t)=>({id:t+1,institution:e.institutionName||"",entryDate:e.startDate||"",exitDate:e.endDate||""}))),S(e.links.map((e,t)=>({id:t+1,title:e.title||"",link:e.url||""}))),q(e.certificates.map((e,t)=>({id:t+1,title:e.title||"",acquisitionDate:e.acquireDate||""})))}catch(e){console.error("❌ 포트폴리오 불러오기 실패:",e),k([H(1,"edu")]),A([H(1,"career")]),M([H(1,"activity")]),S([H(1,"intro")]),q([H(1,"cert")])}})()},[]);let R=(e,t)=>{d(a=>({...a,[e]:t}))},F=(e,t,a)=>({onAdd:()=>{let s=e.length>0?Math.max(...e.map(e=>e.id))+1:1;t(e=>[...e,H(s,a)])},onRemove:e=>{t(t=>t.filter(t=>t.id!==e))},onChange:(e,a,s)=>{t(t=>t.map(t=>t.id===e?{...t,[a]:s}:t))}}),E=(0,i.useMemo)(()=>F(N,k,"edu"),[N]),V=(0,i.useMemo)(()=>F(w,A,"career"),[w]),Y=(0,i.useMemo)(()=>F(D,M,"activity"),[D]),B=(0,i.useMemo)(()=>F(z,S,"intro"),[z]),J=(0,i.useMemo)(()=>F(U,q,"cert"),[U]),G=async e=>{e.preventDefault();let t={phone:l.phone,address:l.address,educations:N.filter(I).map(e=>({institutionName:e.institution,startDate:e.entryDate,endDate:e.exitDate})),experiences:w.filter(I).map(e=>({institutionName:e.institution,startDate:e.entryDate,endDate:e.exitDate})),activities:D.filter(I).map(e=>({institutionName:e.institution,startDate:e.entryDate,endDate:e.exitDate})),links:z.filter(P).map(e=>({title:e.title,url:e.link})),certificates:U.filter(O).map(e=>({title:e.title,acquireDate:e.acquisitionDate}))};try{let e=await (0,f.F)(t,v);console.log("✅ 포트폴리오 저장 성공:",e),r(!0)}catch(e){console.error("❌ 포트폴리오 저장 실패:",e)}};return(0,s.jsxs)("div",{className:"p-4 sm:p-8 bg-slate-50 min-h-screen font-sans",children:[(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-10 p-6 bg-white rounded-xl shadow-md border-t-4 border-indigo-600",children:[(0,s.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-1 tracking-tight",children:"포트폴리오 빌더"}),(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"기본 정보부터 경력까지, 당신의 포트폴리오를 구성해 보세요."})]}),(0,s.jsxs)("form",{onSubmit:G,children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl mb-8 border border-gray-100",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-4 mb-6 flex items-center text-indigo-600",children:[(0,s.jsx)(o.A,{size:24,className:"mr-2"}),"개인 기본 정보"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center col-span-1 p-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-indigo-500 transition cursor-pointer relative group aspect-square",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;j(a);let s=URL.createObjectURL(a);return R("profileImage",s),()=>URL.revokeObjectURL(s)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"프로필 이미지 업로드"}),l.profileImage?(0,s.jsx)("img",{src:l.profileImage,alt:"프로필 이미지",className:"w-full h-full object-cover rounded-lg"}):(0,s.jsxs)("div",{className:"flex flex-col items-center text-gray-500 p-4",children:[(0,s.jsx)(c,{size:40,className:"mb-2 text-indigo-400 group-hover:text-indigo-600 transition"}),(0,s.jsx)("span",{className:"text-sm font-semibold",children:"프로필 사진 등록"}),(0,s.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"클릭하여 이미지 업로드"})]})]}),(0,s.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,s.jsx)(_,{icon:(0,s.jsx)(m.A,{size:18,className:"text-gray-400"}),placeholder:"이메일",value:l.email,onChange:e=>R("email",e),type:"email"}),(0,s.jsx)(_,{icon:(0,s.jsx)(u.A,{size:18,className:"text-gray-400"}),placeholder:"연락처 (예: 010-1234-1234)",value:l.phone,onChange:e=>R("phone",e),type:"tel"}),(0,s.jsx)(_,{icon:(0,s.jsx)(x.A,{size:18,className:"text-gray-400"}),placeholder:"주소 입력",value:l.address,onChange:e=>R("address",e)})]})]})]}),(0,s.jsx)(T,{title:"학력 및 교육 이력",list:N,handlers:E,type:"edu",icon:(0,s.jsx)(h,{size:20,className:"text-indigo-500"})}),(0,s.jsx)(T,{title:"경력 (재직/인턴)",list:w,handlers:V,type:"career",icon:(0,s.jsx)(g.A,{size:20,className:"text-indigo-500"})}),(0,s.jsx)(T,{title:"대외 활동",list:D,handlers:Y,type:"activity",icon:(0,s.jsx)(p.A,{size:20,className:"text-indigo-500"}),footerSlot:(0,s.jsxs)("button",{type:"button",onClick:()=>t(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold bg-gray-100 text-gray-800 border border-gray-200 shadow-sm hover:bg-gray-200 hover:border-gray-300 active:bg-gray-300 transition-colors duration-150",children:[(0,s.jsx)(n.A,{size:16,className:"mr-1"}),"프로젝트 등록"]})}),(0,s.jsx)(T,{title:"자기소개서/포스팅 (링크 첨부)",list:z,handlers:B,type:"intro",icon:(0,s.jsx)(y.A,{size:20,className:"text-indigo-500"})}),(0,s.jsx)(T,{title:"자격증 및 기술 스택",list:U,handlers:J,type:"cert",icon:(0,s.jsx)(b,{size:20,className:"text-indigo-500"})}),(0,s.jsx)("div",{className:"flex flex-col items-center pt-8 gap-4",children:(0,s.jsx)("button",{type:"submit",className:"px-10 py-4 bg-indigo-600 text-white text-lg font-bold rounded-xl shadow-xl hover:bg-indigo-700 transition duration-150 transform hover:scale-[1.02] active:scale-100 active:bg-indigo-800 w-full",children:"포트폴리오 최종 저장"})})]})]}),(0,s.jsx)(L,{isOpen:e,onClose:()=>t(!1),onProjectsSaved:e=>{console.log("".concat(e,"개의 프로젝트가 저장되었습니다.")),t(!0)}}),a&&(0,s.jsx)(C.A,{message:"포트폴리오가 저장되었습니다.",route:"/portfolio/view",pagemessage:"조회 페이지로"})]})}},2382:(e,t,a)=>{"use strict";a.d(t,{gA:()=>i,vr:()=>l,wD:()=>r,xx:()=>n});var s=a(3490);async function i(e){return(await s.A.post("/api/projects",e,{headers:{"Content-Type":"multipart/form-data"}})).data.data}async function r(){let e=(await s.A.get("/api/projects")).data;return Array.isArray(e)?e:[]}async function l(e,t){return(await s.A.put("/api/projects/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}})).data.data}async function n(e){await s.A.delete("/api/projects/".concat(e))}},2768:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155),i=a(63);function r(e){let{message:t,route:a,pagemessage:r,onClose:l}=e,n=(0,i.useRouter)();return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 animate-fadeIn scale-100",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"알림"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:t}),(0,s.jsx)("div",{className:"mt-6 flex justify-end",children:a?(0,s.jsxs)("button",{onClick:()=>{l&&l(),a&&(n.push(a),n.refresh())},className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold text-sm shadow-md hover:bg-indigo-700 active:scale-95 transition-all",children:[r," 이동하기"]}):(0,s.jsx)("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-gray-600 text-white font-semibold text-sm shadow-md hover:bg-gray-700 active:scale-95 transition-all",children:"닫기"})})]})})}},3490:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let s=a(5125).A.create({baseURL:"https://11job.site",headers:{"Content-Type":"application/json"},timeout:1e4});s.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let i=s},3664:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},4571:(e,t,a)=>{"use strict";a.d(t,{F:()=>i,h:()=>r});var s=a(3490);async function i(e,t){let a=new FormData;a.append("dto",new Blob([JSON.stringify(e)],{type:"application/json"})),t&&a.append("profileImage",t);try{return(await s.A.post("/api/portfolio",a,{transformRequest:e=>e})).data.data}catch(e){var i,r;throw console.error("❌ createPortfolio API 호출 중 오류 발생:",e.response||e),Error((null==(r=e.response)||null==(i=r.data)?void 0:i.message)||"포트폴리오 저장 중 서버 오류가 발생했습니다.")}}async function r(){return(await s.A.get("/api/portfolio")).data}},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6154:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6485:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6826:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},7937:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},9141:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},9633:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])}},e=>{e.O(0,[211,441,255,358],()=>e(e.s=1205)),_N_E=e.O()}]);