(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{368:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},514:(e,t,a)=>{Promise.resolve().then(a.bind(a,6239))},3490:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let s=a(5125).A.create({baseURL:"https://11job.site",headers:{"Content-Type":"application/json"},timeout:1e4});s.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let n=s},6140:(e,t,a)=>{"use strict";a.d(t,{Fs:()=>o,VD:()=>l,qP:()=>r,sF:()=>n});var s=a(3490);async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=new FormData;return a.append("dto",new Blob([JSON.stringify(e)],{type:"application/json"})),t.forEach(e=>a.append("files",e)),(await s.A.post("/api/schedules",a,{headers:{"Content-Type":"multipart/form-data"}})).data.data}async function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(await s.A.get("/api/schedules",{params:e})).data;return Array.isArray(t)?t:[t]}async function o(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=new FormData;n.append("dto",new Blob([JSON.stringify(t)],{type:"application/json"})),a.forEach(e=>n.append("files",e)),await s.A.put("/api/schedules/".concat(e),n,{headers:{"Content-Type":"multipart/form-data"}})}async function l(e){await s.A.delete("/api/schedules/".concat(e))}},6239:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),n=a(2115),r=a(3730),o=a(8674),l=a(8901),i=a(2192),c=a(1321),d=a(7141),h=a(5405),u=a(2118),m=a(5513),x=a(5507),p=a(368);let g=(0,a(1847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var y=a(63),f=a(6140);let b=e=>{let{currentMonth:t,prevMonth:a,nextMonth:n}=e;return(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6 px-2",children:[(0,s.jsx)("button",{onClick:a,className:"p-2 rounded-full hover:bg-indigo-100 text-indigo-600 transition duration-200 w-10 h-10 flex items-center justify-center","aria-label":"Previous month",children:(0,s.jsx)(p.A,{className:"w-6 h-6"})}),(0,s.jsx)("h2",{className:"font-bold text-3xl text-gray-800 select-none",children:(0,r.GP)(t,"yyyy년 M월",{locale:x.ko})}),(0,s.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-indigo-100 text-indigo-600 transition duration-200 w-10 h-10 flex items-center justify-center","aria-label":"Next month",children:(0,s.jsx)(g,{className:"w-6 h-6"})})]})},w=e=>{var t;let{day:a,currentMonth:n,today:o,eventsByDate:l,onEventClick:i}=e,c=l[(0,r.GP)(a,"yyyy-MM-dd")]||[],m=!(0,d.t)(a,n),x=(0,h.r)(a,o);return(0,s.jsxs)("div",{className:"\n    align-top p-0.5 relative border border-gray-100 bg-white min-h-24 transition-colors duration-300\n    ".concat(m?"bg-gray-50 opacity-70":"hover:bg-indigo-50","\n  "),style:{height:"120px"},children:[(0,s.jsx)("span",{className:"\n    absolute top-1 left-2 text-sm font-medium p-1 rounded-full w-6 h-6 flex items-center justify-center transition-colors duration-200\n    ".concat(m?"text-gray-400":x?"bg-orange-500 text-white shadow-lg z-10":"text-gray-800 hover:bg-gray-100","\n  "),children:(t=a,(0,u.a)(t,void 0).getDate())}),(0,s.jsxs)("div",{className:"flex flex-col gap-0.5 mt-8 px-1 h-[calc(100%-32px)] overflow-hidden",children:[c.slice(0,3).map((e,t)=>(0,s.jsx)("button",{type:"button",onClick:()=>i(e.scheduleId),className:"text-[10px] text-left truncate rounded-sm px-1.5 py-0.5 ".concat(e.color," text-gray-800 font-normal shadow-sm transition-all duration-150 hover:shadow-md cursor-pointer"),style:{lineHeight:"1.2"},title:e.text,children:e.text},t)),c.length>3&&(0,s.jsxs)("span",{className:"text-xs text-indigo-500 hover:text-indigo-600 font-normal cursor-pointer mt-1 px-1",children:["+ ",c.length-3," more"]})]})]})};function j(){let e=(0,y.useRouter)(),t=(0,n.useMemo)(()=>new Date,[]),[a,d]=(0,n.useState)((0,o.w)(t)),[h,u]=(0,n.useState)({}),[p,g]=(0,n.useState)(!1),[j,v]=(0,n.useState)(null),N=(0,n.useMemo)(()=>{let e=(0,o.w)(a),t=(0,l.p)(e),s=(0,i.k)(e,{locale:x.ko,weekStartsOn:0}),n=(0,c.$)(t,{locale:x.ko,weekStartsOn:0}),r=[],d=s;for(;d<=n;)for(let e=0;e<7;e++)r.push(d),d=new Date(d.setDate(d.getDate()+1));return r},[a]),k=(0,n.useMemo)(()=>!!localStorage.getItem("accessToken"),[]);(0,n.useEffect)(()=>{(async()=>{try{g(!0),v(null);let e=await (0,f.qP)({page:0,size:200}),t={};e.forEach(e=>{if(!e.scheduleDate)return;let s=new Date("".concat(e.scheduleDate,"T00:00:00"));if(s.getFullYear()!==a.getFullYear()||s.getMonth()!==a.getMonth())return;let n=e.scheduleDate;t[n]||(t[n]=[]),t[n].push({scheduleId:e.scheduleId,text:"".concat(e.companyName," - ").concat(e.title),color:"bg-indigo-100"})}),u(t)}catch(e){console.error("❌ 달력 일정 조회 실패:",e)}finally{g(!1)}})()},[a]);let M=t=>{e.push("/view?scheduleId=".concat(t))};return(0,s.jsx)("div",{className:"min-h-screen p-4 sm:p-8 font-sans",children:(0,s.jsxs)("div",{className:"bg-white p-6 sm:p-10 rounded-xl shadow-2xl h-full max-w-6xl mx-auto",children:[(0,s.jsxs)("header",{className:"mb-8 pb-4 border-b border-gray-200",children:[(0,s.jsx)("h1",{className:"text-4xl font-extrabold text-indigo-700 tracking-tight",children:"취업 일정 달력"}),(0,s.jsxs)("h2",{className:"text-lg font-medium text-gray-700 mt-2",children:["오늘 날짜:"," ",(0,s.jsx)("span",{className:"text-orange-600 font-semibold",children:(0,r.GP)(t,"yyyy년 MM월 dd일 EEEE",{locale:x.ko})})]}),!k&&(0,s.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:"로그인하고 일정을 등록해보세요."}),p&&(0,s.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:"달력 데이터를 불러오는 중입니다..."}),j&&(0,s.jsx)("p",{className:"mt-3 text-sm text-red-500",children:j})]}),(0,s.jsx)(b,{currentMonth:a,prevMonth:()=>d((0,m.P)(a,-1,void 0)),nextMonth:()=>d((0,m.P)(a,1))}),(0,s.jsxs)("div",{className:"shadow-xl rounded-lg overflow-hidden border border-gray-200",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 bg-indigo-600 text-white font-medium text-center",children:["일","월","화","수","목","금","토"].map((e,t)=>(0,s.jsx)("div",{className:"py-3 text-sm uppercase tracking-wider ".concat(0===t?"text-red-300":6===t?"text-blue-300":""),children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 border-t border-gray-200",children:N.map((e,n)=>(0,s.jsx)(w,{day:e,currentMonth:a,today:t,eventsByDate:h,onEventClick:M},n))})]})]})})}}},e=>{e.O(0,[211,895,441,255,358],()=>e(e.s=514)),_N_E=e.O()}]);