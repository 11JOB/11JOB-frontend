(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},368:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2773:(e,t,a)=>{Promise.resolve().then(a.bind(a,8109))},2821:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=function(){for(var e,t,a=0,s="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,s,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(a=0;a<l;a++)t[a]&&(s=e(t[a]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}(e))&&(s&&(s+=" "),s+=t);return s}},3490:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let s=a(5125).A.create({baseURL:"https://11job.site",headers:{"Content-Type":"application/json"},timeout:1e4});s.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let r=s},8109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var s=a(5155),r=a(2115),l=a(1847);let n=(0,l.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,l.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var i=a(368),c=a(2821),d=a(3490);async function u(e){await d.A.post("/api/user/join",e)}async function x(e){await d.A.post("/api/user/emailSend",e)}async function h(e){await d.A.post("/api/user/emailCheck",e)}async function m(e){let t=await d.A.post("/login",e),a=t.data.accessToken,s=t.data.refreshToken;return localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",s),{accessToken:a,refreshToken:s}}var g=a(63);let b=e=>{let{onClick:t,children:a,disabled:r=!1,type:l="button",className:n}=e;return(0,s.jsx)("button",{type:l,onClick:t,disabled:r,className:(0,c.A)("w-full rounded-xl h-12 font-semibold text-white transition-colors duration-150",r?"bg-gray-400 cursor-not-allowed":"bg-black hover:bg-neutral-800 active:bg-neutral-900",n),children:a})},p=e=>{let{value:t,onChange:a,placeholder:r,type:l="text",className:n,readOnly:o=!1}=e;return(0,s.jsx)("input",{type:l,value:t,onChange:a,placeholder:r,readOnly:o,className:(0,c.A)("w-full h-12 rounded-xl border border-gray-300 bg-white px-4 text-gray-800","placeholder:text-gray-400","focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-neutral-800","transition-colors duration-150",{"bg-gray-100":o},n)})},y=e=>{let{value:t,onChange:a,placeholder:l,className:i}=e,[d,u]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("input",{type:d?"text":"password",value:t,onChange:a,placeholder:l,className:(0,c.A)("w-full h-12 rounded-xl border border-gray-300 bg-white px-4 pr-10 text-gray-800","placeholder:text-gray-400","focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-neutral-800","transition-colors duration-150",i)}),(0,s.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?(0,s.jsx)(n,{size:18}):(0,s.jsx)(o,{size:18})})]})},f=e=>{let{title:t,onBack:a,showBack:r}=e;return(0,s.jsxs)("div",{className:"relative text-center mb-8",children:[r&&(0,s.jsx)("button",{onClick:a,className:"absolute left-0 top-1/2 -translate-y-1/2 p-1 text-gray-600 hover:text-black transition",children:(0,s.jsx)(i.A,{size:24})}),(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:t})]})},j=e=>{let{onBack:t}=e,[a,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[k,w]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1),M=(0,r.useMemo)(()=>i.length>=8&&i===m,[i,m]),B=(0,r.useMemo)(()=>a.trim().includes("@")&&!N,[a,N]),T=(0,r.useMemo)(()=>""!==n.trim()&&N,[n,N]),I=(0,r.useMemo)(()=>""!==a.trim()&&A&&M&&""!==j.trim()&&k,[a,A,M,j,k]),P=async()=>{if(B)try{await x({email:a}),S(!0),alert("[".concat(a,"]로 인증번호가 발송되었습니다."))}catch(e){console.error("Failed to send email:",e),alert("이메일 발송에 실패했습니다. 다시 시도해주세요.")}},R=async()=>{if(T)try{await h({email:a,authNum:n}),C(!0),alert("인증번호가 확인되었습니다.")}catch(e){console.error("Verification failed:",e),alert("인증번호가 올바르지 않습니다. 다시 확인해주세요.")}},_=async e=>{if(e.preventDefault(),I)try{await u({email:a,password:i,name:j}),alert("회원가입이 성공적으로 완료되었습니다."),t()}catch(e){console.error("Sign up failed:",e),alert("회원가입에 실패했습니다. 다시 시도해주세요.")}};return(0,s.jsxs)("div",{className:"rounded-2xl bg-white shadow-xl ring-1 ring-gray-100 p-8 w-full transition-opacity duration-300",children:[(0,s.jsx)(f,{title:"회원가입",onBack:t,showBack:!0}),(0,s.jsxs)("form",{onSubmit:_,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"아이디(이메일)"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(p,{value:a,onChange:e=>l(e.target.value),placeholder:"이메일 주소를 입력해주세요",type:"email",readOnly:N}),(0,s.jsx)("button",{type:"button",onClick:P,disabled:!B,className:(0,c.A)("whitespace-nowrap px-4 rounded-xl text-sm font-semibold transition-colors duration-150",B?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:N?"재전송":"인증번호 발송"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"이메일 인증번호 입력"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(p,{value:n,onChange:e=>o(e.target.value),placeholder:"이메일 인증번호 6자리를 입력해주세요",type:"text",className:"appearance-none"}),(0,s.jsx)("button",{type:"button",onClick:R,disabled:!T,className:(0,c.A)("whitespace-nowrap px-4 rounded-xl text-sm font-semibold transition-colors duration-150",T?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:"인증번호 확인"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"비밀번호 (8자 이상)"}),(0,s.jsx)(y,{value:i,onChange:e=>d(e.target.value),placeholder:"비밀번호를 입력해주세요"}),i.length>0&&i.length<8&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:"비밀번호는 최소 8자 이상이어야 합니다."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"비밀번호 확인"}),(0,s.jsx)(y,{value:m,onChange:e=>g(e.target.value),placeholder:"비밀번호를 다시 입력해주세요"}),!M&&m.length>0&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:"비밀번호가 일치하지 않습니다."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"이름"}),(0,s.jsx)(p,{value:j,onChange:e=>v(e.target.value),placeholder:"이름을 입력해주세요",type:"text"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700 select-none",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-black focus:ring-black",checked:k,onChange:e=>w(e.target.checked)}),"개인정보 이용 및 수집 동의"]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)(b,{type:"submit",disabled:!I,className:(0,c.A)({"bg-black":I}),children:"회원가입"})})]})]})},v=e=>{let{onBack:t}=e,[a,l]=(0,r.useState)(""),n=(0,r.useMemo)(()=>a.trim().includes("@"),[a]);return(0,s.jsxs)("div",{className:"rounded-2xl bg-white shadow-xl ring-1 ring-gray-100 p-8 w-full transition-opacity duration-300",children:[(0,s.jsx)(f,{title:"비밀번호 재설정",onBack:t,showBack:!0}),(0,s.jsx)("p",{className:"text-gray-600 mb-6 text-left text-sm",children:"가입 시 사용했던 이메일 주소를 입력해주세요. 비밀번호 재설정 링크를 보내드립니다."}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&(console.log("Reset Password for:",a),alert("[".concat(a,"]로 비밀번호 재설정 이메일이 전송되었습니다. (시뮬레이션)")),t())},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700 text-left",children:"이메일"}),(0,s.jsx)(p,{value:a,onChange:e=>l(e.target.value),placeholder:"이메일 주소를 입력해주세요",type:"email"})]}),(0,s.jsx)(b,{type:"submit",disabled:!n,className:(0,c.A)({"bg-black":n}),children:"재설정 이메일 받기"})]})]})},k=e=>{let{handleNavigation:t}=e,[a,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),i=(0,g.useRouter)(),d=(0,r.useMemo)(()=>""!==a.trim()&&""!==n.trim(),[a,n]),u=async e=>{if(e.preventDefault(),d)try{console.log("Sending login request with:",{email:a,password:n});let{accessToken:e,refreshToken:t}=await m({email:a,password:n});console.log("Login successful. Tokens:",{accessToken:e,refreshToken:t}),localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",t),localStorage.setItem("userEmail",a),alert("로그인 성공"),i.push("/")}catch(e){console.error("Login failed:",e),alert("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.")}};return(0,s.jsxs)("div",{className:"rounded-2xl bg-white shadow-xl ring-1 ring-gray-100 p-8 w-full transition-opacity duration-300",children:[(0,s.jsx)(f,{title:"로그인",onBack:()=>{},showBack:!1}),(0,s.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"아이디(이메일)"}),(0,s.jsx)(p,{value:a,onChange:e=>l(e.target.value),placeholder:"아이디를 입력해주세요",type:"email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"비밀번호"}),(0,s.jsx)(y,{value:n,onChange:e=>o(e.target.value),placeholder:"비밀번호를 입력해주세요"})]}),(0,s.jsx)(b,{type:"submit",disabled:!d,className:(0,c.A)({"bg-black":d}),children:"로그인"})]}),(0,s.jsxs)("div",{className:"mt-6 text-center text-sm space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-600 hover:text-black cursor-pointer transition duration-150 font-medium",onClick:()=>t("signup"),children:"회원가입"}),(0,s.jsx)("span",{className:"text-gray-400",children:"|"}),(0,s.jsx)("span",{className:"text-gray-600 hover:text-black cursor-pointer transition duration-150 font-medium",onClick:()=>t("reset"),children:"비밀번호 찾기"})]})]})};function w(){let[e,t]=(0,r.useState)("signin"),a=e=>{t(e)};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 font-sans",children:(0,s.jsx)("main",{className:"px-4",children:(0,s.jsx)("div",{className:"mx-auto max-w-md",children:(0,s.jsx)("div",{className:"flex flex-col justify-center min-h-screen py-8 md:py-12",children:(()=>{switch(e){case"signin":return(0,s.jsx)(k,{handleNavigation:a});case"signup":return(0,s.jsx)(j,{onBack:()=>a("signin")});case"reset":return(0,s.jsx)(v,{onBack:()=>a("signin")});default:return null}})()})})})})}}},e=>{e.O(0,[211,441,255,358],()=>e(e.s=2773)),_N_E=e.O()}]);