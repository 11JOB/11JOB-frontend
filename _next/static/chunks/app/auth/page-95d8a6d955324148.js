(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},130:(e,t,s)=>{"use strict";s.d(t,{J3:()=>u,Ro:()=>n,ZM:()=>l,ec:()=>c,fj:()=>r,hG:()=>d,iD:()=>o,ri:()=>i});var a=s(3490);async function r(e){await a.A.post("/api/user/join",e)}async function l(e){await a.A.post("/api/user/emailSend",e)}async function n(e){await a.A.post("/api/user/emailCheck",e)}async function o(e){let t=await a.A.post("/login",e),s=t.data.accessToken,r=t.data.refreshToken;return localStorage.setItem("accessToken",s),localStorage.setItem("refreshToken",r),{accessToken:s,refreshToken:r}}async function i(){await a.A.post("/api/user/logout")}async function c(e){await a.A.patch("/api/user/change-password",e)}async function d(e){console.log("\uD83D\uDCE4 [deleteUser] 요청 전송:",e);try{let t=await a.A.delete("/api/user/delete-user",{data:e});return console.log("\uD83D\uDCE5 [deleteUser] 응답 수신:",t),t.data}catch(e){var t,s;throw console.error("❌ [deleteUser] API 호출 오류:"),console.error("   ▶ status:",null==(t=e.response)?void 0:t.status),console.error("   ▶ response.data:",null==(s=e.response)?void 0:s.data),console.error("   ▶ full error:",e),e}}async function u(){return(await a.A.get("/api/user/name")).data}},368:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2768:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155),r=s(63);function l(e){let{message:t,route:s,pagemessage:l,onClose:n}=e,o=(0,r.useRouter)();return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 animate-fadeIn scale-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"저장 완료!"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:t}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:s?(0,a.jsxs)("button",{onClick:()=>o.push(s),className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold text-sm shadow-md hover:bg-indigo-700 active:scale-95 transition-all",children:[l," 이동하기"]}):(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-gray-600 text-white font-semibold text-sm shadow-md hover:bg-gray-700 active:scale-95 transition-all",children:"닫기"})})]})})}},2773:(e,t,s)=>{Promise.resolve().then(s.bind(s,4134))},2821:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=function(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}(e))&&(a&&(a+=" "),a+=t);return a}},3490:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let a=s(5125).A.create({baseURL:"https://11job.site",headers:{"Content-Type":"application/json"},timeout:1e4});a.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let r=a},4134:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),r=s(2115),l=s(1847);let n=(0,l.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,l.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var i=s(368),c=s(2821),d=s(130),u=s(9370),x=s(2768),h=s(63);function m(e){let{message:t,route:s,pagemessage:r,onClose:l}=e,n=(0,h.useRouter)();return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 animate-fadeIn scale-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"로그인 성공!"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:t}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:s?(0,a.jsxs)("button",{onClick:()=>n.push(s),className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold text-sm shadow-md hover:bg-indigo-700 active:scale-95 transition-all",children:[r," 이동하기"]}):(0,a.jsx)("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-gray-600 text-white font-semibold text-sm shadow-md hover:bg-gray-700 active:scale-95 transition-all",children:"닫기"})})]})})}let g=e=>{let{onClick:t,children:s,disabled:r=!1,type:l="button",className:n}=e;return(0,a.jsx)("button",{type:l,onClick:t,disabled:r,className:(0,c.A)("w-full rounded-xl h-12 font-semibold text-white transition-colors duration-150",r?"bg-gray-400 cursor-not-allowed":"bg-black hover:bg-neutral-800 active:bg-neutral-900",n),children:s})},b=e=>{let{value:t,onChange:s,placeholder:r,type:l="text",className:n,readOnly:o=!1}=e;return(0,a.jsx)("input",{type:l,value:t,onChange:s,placeholder:r,readOnly:o,className:(0,c.A)("w-full h-12 rounded-xl border border-gray-300 bg-white px-4 text-gray-800","placeholder:text-gray-400","focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-neutral-800","transition-colors duration-150",{"bg-gray-100":o},n)})},p=e=>{let{value:t,onChange:s,placeholder:l,className:i}=e,[d,u]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{type:d?"text":"password",value:t,onChange:s,placeholder:l,className:(0,c.A)("w-full h-12 rounded-xl border border-gray-300 bg-white px-4 pr-10 text-gray-800","placeholder:text-gray-400","focus:outline-none focus:ring-2 focus:ring-neutral-800 focus:border-neutral-800","transition-colors duration-150",i)}),(0,a.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?(0,a.jsx)(n,{size:18}):(0,a.jsx)(o,{size:18})})]})},f=e=>{let{title:t,onBack:s,showBack:r}=e;return(0,a.jsxs)("div",{className:"relative text-center mb-8",children:[r&&(0,a.jsx)("button",{onClick:s,className:"absolute left-0 top-1/2 -translate-y-1/2 p-1 text-gray-600 hover:text-black transition",children:(0,a.jsx)(i.A,{size:24})}),(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:t})]})},y=e=>{let{onBack:t}=e,[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,h]=(0,r.useState)(""),[m,y]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[M,I]=(0,r.useState)(""),[P,T]=(0,r.useState)(!1),[,z]=(0,r.useState)(!1),R=e=>{I(e),T(!0)},B=(0,r.useMemo)(()=>i.length>=8&&i===m,[i,m]),O=(0,r.useMemo)(()=>s.trim().includes("@")&&!k,[s,k]),_=(0,r.useMemo)(()=>""!==n.trim()&&k,[n,k]),D=(0,r.useMemo)(()=>""!==s.trim()&&S&&B&&""!==j.trim()&&w,[s,S,B,j,w]),E=async()=>{if(O)try{await (0,d.ZM)({email:s}),A(!0),R("[".concat(s,"]로 인증번호가 발송되었습니다."))}catch(e){console.error("Failed to send email:",e),R("이메일 발송에 실패했습니다. 다시 시도해주세요.")}},U=async()=>{if(_)try{await (0,d.Ro)({email:s,authNum:n}),C(!0),R("인증번호가 확인되었습니다.")}catch(e){console.error("Verification failed:",e),R("인증번호가 올바르지 않습니다. 다시 확인해주세요.")}},F=async e=>{if(e.preventDefault(),D)try{await (0,d.fj)({email:s,password:i,name:j}),z(!0)}catch(e){console.error("Sign up failed:",e),R("회원가입에 실패했습니다. 다시 시도해주세요.")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{isOpen:P,onClose:()=>T(!1),message:M}),(0,a.jsx)(x.A,{message:"회원가입이 성공적으로 완료되었습니다!",route:"/auth",pagemessage:"로그인 페이지로",onClose:()=>z(!1)}),(0,a.jsxs)("div",{className:"rounded-2xl bg-white shadow-xl ring-1 ring-gray-100 p-8 w-full transition-opacity duration-300",children:[(0,a.jsx)(f,{title:"회원가입",onBack:t,showBack:!0}),(0,a.jsxs)("form",{onSubmit:F,className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"아이디(이메일)"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(b,{value:s,onChange:e=>l(e.target.value),placeholder:"이메일 주소를 입력해주세요",type:"email",readOnly:k}),(0,a.jsx)("button",{type:"button",onClick:E,disabled:!O,className:(0,c.A)("whitespace-nowrap px-4 rounded-xl text-sm font-semibold transition-colors duration-150",O?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:k?"재전송":"인증번호 발송"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"이메일 인증번호 입력"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(b,{value:n,onChange:e=>o(e.target.value),placeholder:"이메일 인증번호 6자리를 입력해주세요",type:"text",className:"appearance-none"}),(0,a.jsx)("button",{type:"button",onClick:U,disabled:!_,className:(0,c.A)("whitespace-nowrap px-4 rounded-xl text-sm font-semibold transition-colors duration-150",_?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:"인증번호 확인"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"비밀번호 (8자 이상, 영문, 숫자, 특수기호 포함)"}),(0,a.jsx)(p,{value:i,onChange:e=>h(e.target.value),placeholder:"비밀번호를 입력해주세요"}),i.length>0&&i.length<8&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:"비밀번호는 최소 8자 이상의 영문, 숫자, 특수기호 포함이어야 합니다."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"비밀번호 확인"}),(0,a.jsx)(p,{value:m,onChange:e=>y(e.target.value),placeholder:"비밀번호를 다시 입력해주세요"}),!B&&m.length>0&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:"비밀번호가 일치하지 않습니다."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"이름"}),(0,a.jsx)(b,{value:j,onChange:e=>v(e.target.value),placeholder:"이름을 입력해주세요",type:"text"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700 select-none",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-black focus:ring-black",checked:w,onChange:e=>N(e.target.checked)}),"개인정보 이용 및 수집 동의"]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(g,{type:"submit",disabled:!D,className:(0,c.A)({"bg-black":D}),children:"회원가입"})})]})]})]})},j=e=>{let{handleNavigation:t}=e,[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,x]=(0,r.useState)(""),[h,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>""!==s.trim()&&""!==n.trim(),[s,n]),N=async e=>{if(e.preventDefault(),w)try{console.log("Sending login request with:",{email:s,password:n});let{accessToken:e,refreshToken:t}=await (0,d.iD)({email:s,password:n});console.log("Login successful. Tokens:",{accessToken:e,refreshToken:t}),localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",t),localStorage.setItem("userEmail",s),v(!0)}catch(e){console.error("Login failed:",e),x("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요."),y(!0)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{isOpen:h,onClose:()=>y(!1),message:i}),j&&(0,a.jsx)(m,{message:"로그인에 성공하였습니다!",route:"/",pagemessage:"메인 페이지로",onClose:()=>v(!1)}),(0,a.jsxs)("div",{className:"rounded-2xl bg-white shadow-xl ring-1 ring-gray-100 p-8 w-full transition-opacity duration-300",children:[(0,a.jsx)(f,{title:"로그인",onBack:()=>{},showBack:!1}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"아이디(이메일)"}),(0,a.jsx)(b,{value:s,onChange:e=>l(e.target.value),placeholder:"아이디를 입력해주세요",type:"email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-semibold text-gray-700",children:"비밀번호"}),(0,a.jsx)(p,{value:n,onChange:e=>o(e.target.value),placeholder:"비밀번호를 입력해주세요"})]}),(0,a.jsx)(g,{type:"submit",disabled:!w,className:(0,c.A)({"bg-black":w}),children:"로그인"})]}),(0,a.jsx)("div",{className:"mt-6 text-center text-sm space-x-2",children:(0,a.jsx)("span",{className:"text-gray-600 hover:text-black cursor-pointer transition duration-150 font-medium",onClick:()=>t("signup"),children:"회원가입"})})]})]})};function v(){let[e,t]=(0,r.useState)("signin"),s=e=>{t(e)};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 font-sans",children:(0,a.jsx)("main",{className:"px-4",children:(0,a.jsx)("div",{className:"mx-auto max-w-md",children:(0,a.jsx)("div",{className:"flex flex-col justify-center min-h-screen py-8 md:py-12",children:(()=>{switch(e){case"signin":return(0,a.jsx)(j,{handleNavigation:s});case"signup":return(0,a.jsx)(y,{onBack:()=>s("signin")});default:return null}})()})})})})}},9370:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155);function r(e){let{isOpen:t,message:s,onClose:r}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 animate-fadeIn scale-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"알림"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:s}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gray-600 text-white font-semibold text-sm shadow-md hover:bg-gray-700 active:scale-95 transition-all",children:"닫기"})})]})}):null}}},e=>{e.O(0,[211,441,255,358],()=>e(e.s=2773)),_N_E=e.O()}]);